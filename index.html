<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Coreos-osx-gui-kubernetes-cluster by rimusz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Coreos-osx-gui-kubernetes-cluster</h1>
      <h2 class="project-tagline">CoreOS-Vagrant Kubernetes GUI for OS X</h2>
      <a href="https://github.com/rimusz/coreos-osx-gui-kubernetes-cluster" class="btn">View on GitHub</a>
      <a href="https://github.com/rimusz/coreos-osx-gui-kubernetes-cluster/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/rimusz/coreos-osx-gui-kubernetes-cluster/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="coreos-vagrant-kubernetes-cluster-gui-for-os-x" class="anchor" href="#coreos-vagrant-kubernetes-cluster-gui-for-os-x" aria-hidden="true"><span class="octicon octicon-link"></span></a>CoreOS-Vagrant Kubernetes Cluster GUI for OS X</h1>

<p><code>CoreOS-Vagrant Kubernetes Cluster GUI for Mac OS X</code> is a Mac Status bar App which works like a wrapper around <a href="https://github.com/coreos/coreos-vagrant">coreos-vagrant</a> command line tool and bootstraps Kubernetes cluster with one master and two minions machines.</p>

<p>Note: Alpha channel uses etcd2, beta and stable are still on etcd 0.4.</p>

<p><a href="https://coreos.com">CoreOS</a> is a Linux distribution made specifically to run <a href="https://www.docker.io/">Docker</a> containers.
<a href="https://github.com/coreos/coreos-vagrant">CoreOS-Vagrant</a> is made to run on VirtualBox and VMWare VMs.</p>

<p><img src="coreos-vagrant-k8s-cluster-gui.png" alt="CoreOS-Vagrant-Kubernetes-Cluster-GUI" title="CoreOS-Vagrant-Kubernetes-Cluster-GUI"></p>

<h2>
<a id="download" class="anchor" href="#download" aria-hidden="true"><span class="octicon octicon-link"></span></a>Download</h2>

<p>Head over to the <a href="https://github.com/rimusz/coreos-osx-gui-kubernetes-cluster/releases">Releases Page</a> to grab the latest release.</p>

<h2>
<a id="how-to-install" class="anchor" href="#how-to-install" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to install</h2>

<p>Required software:</p>

<ul>
<li>
<a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a>, <a href="http://www.vagrantup.com/downloads.html">Vagrant</a> and <a href="http://www.iterm2.com/#/section/downloads">iTerm 2</a>
</li>
<li>Open downloaded dmg file and drag the App e.g. to your Desktop.</li>
<li>Start the <code>CoreOS k8s Cluster</code> App and from menu <code>Setup</code> and choose: <code>Initial setup of CoreOS-Vagrant k8s Cluster</code>
</li>
</ul>

<p>The install will do the following:</p>

<ul>
<li>All dependent files/folders will be put under <code>coreos-k8s-cluster</code> folder in the user's
home folder</li>
<li>It will clone latest coreos-vagrant from git</li>
<li>user-data files will have fleet, etcd and flannel set</li>
<li>master machine will be set with IP <code>172.17.15.101</code> and two cluster nodes with IPs: <code>172.17.15.102 and 172.17.15.103</code>
</li>
<li>It will download latest vagrant VBox and run <code>vagrant up</code> to initialise VM</li>
<li>When you first time install or do 'Up' after destroying k8s cluster, k8s binary files (with the version which was available when the App was built) get copied to CoreOS VMs, this speeds up k8s cluster setup. To update K8s cluster just run from menu 'Updates' - Update Kubernetes cluster and OS X kubectl.</li>
<li>It will install <code>fleetctl, etcdctl and kubectl</code> to <code>~/coreos-k8s-cluster/bin/</code>
</li>
<li>Kubernetes services will be installed with fleet units which are placed in <code>~/coreos-k8s-cluster/fleet</code>, this allows very easy updates to fleet units if needed.</li>
</ul>

<h2>
<a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><span class="octicon octicon-link"></span></a>How it works</h2>

<p>Just start <code>CoreOS k8s Cluster</code> application and you will find a small icon with the CoreOS logo with (K) which means for k8s cluster in the Status Bar.</p>

<ul>
<li>There you can <code>Up</code>, <code>Suspend</code>, <code>Halt</code>, <code>Reload</code> CoreOS vagrant VMs</li>
<li>Under <code>Up</code> (first does 'vagrant up') and <code>OS Shell</code> OS Shell (terminal) will have such environment set:</li>
</ul>

<pre><code>1) kubernetes master - export KUBERNETES_MASTER=http://172.17.15.101:8080
2) etcd endpoint - export ETCDCTL_PEERS=http://172.17.15.101:4001
3) fleetctl endpoint - export FLEETCTL_ENDPOINT=http://172.17.15.101:4001
4) fleetctl driver - export FLEETCTL_DRIVER=etcd
5) Path to ~/coreos-osx-cluster/bin where etcdctl, fleetctl and kubernetes binaries are stored
</code></pre>

<ul>
<li>
<code>Updates/Update Kubernetes cluster and OS X kubectl</code> will update to latest version of Kubernetes.</li>
<li>
<code>Updates/Update OS X fleetctl, etcdclt and fleet units</code> will update fleetctl, etcdclt clients to the same versions as CoreOS VMs run and to latest fleet units if the new version of App is used.</li>
<li>
<code>Updates/Force CoreOS update</code> will be run <code>sudo update_engine_client -update</code> on each CoreOS VM.</li>
<li>
<code>Updates/Check updates for CoreOS vbox</code> will update CoreOS VM vagrant box.
*</li>
<li>
<code>SSH to k8smaster01 and k8snode-01/02</code> menu options will open VM shells</li>
<li>
<code>node1/2 cAdvisor</code> will open cAdvisor URL in default browser</li>
<li>
<a href="http://fleetui.com">Fleet-UI</a> will show running fleet units and etc</li>
<li>
<a href="http://kismatic.io/">Kismatic.io</a> <a href="https://github.com/kubernetes-ui">Kubernetes-UI</a> will show nice Kubernetes Dashboard, where you can check Nodes, Pods, Replication Controllers and etc.</li>
</ul>

<p>Example ouput of succesfull CoreOS + Kubernetes cluster install:</p>

<pre><code>$ 
etcd cluster:
/registry
/coreos.com

fleetctl list-machines:
MACHINE     IP      METADATA
9b88a46c... 172.17.15.103   role=node
d0c68677... 172.17.15.102   role=node
f93b555e... 172.17.15.101   role=control

fleetctl list-units:
UNIT                MACHINE             ACTIVE  SUB
fleet-ui.service        f93b555e.../172.17.15.101   active  running
kube-apiserver.service      f93b555e.../172.17.15.101   active  running
kube-controller-manager.service f93b555e.../172.17.15.101   active  running
kube-kubelet.service        9b88a46c.../172.17.15.103   active  running
kube-kubelet.service        d0c68677.../172.17.15.102   active  running
kube-proxy.service      9b88a46c.../172.17.15.103   active  running
kube-proxy.service      d0c68677.../172.17.15.102   active  running
kube-register.service       f93b555e.../172.17.15.101   active  running
kube-scheduler.service      f93b555e.../172.17.15.101   active  running
kubernetes-ui.service       f01c50e9.../172.17.15.101   active  running

k8s nodes list:
NAME                LABELS              STATUS
172.17.15.102       node=worker1        Ready
172.17.15.103       node=worker2        Ready

</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>You're now ready to use Kubernetes cluster.</p>

<p>Some examples to start with <a href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/examples/">Kubernetes examples</a>.</p>

<h2>
<a id="other-links" class="anchor" href="#other-links" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other links</h2>

<ul>
<li><p>A standalone CoreOS VM version App can be found here <a href="https://github.com/rimusz/coreos-osx-gui">CoreOS-Vagrant GUI</a>.</p></li>
<li><p>Cluster one without Kubernetes CoreOS VM App can be found here <a href="https://github.com/rimusz/coreos-osx-gui-cluster">CoreOS-Vagrant Cluster GUI</a>.</p></li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/rimusz/coreos-osx-gui-kubernetes-cluster">Coreos-osx-gui-kubernetes-cluster</a> is maintained by <a href="https://github.com/rimusz">rimusz</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

